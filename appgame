import random
from questions import questions


def get_random_questions():
    return random.sample(questions, 5)

def handle_client(client):
    score = 0
    for question in get_random_questions():
        client.send(str(question).encode('ascii'))
        answer = int(client.recv(1024).decode('ascii'))
        if answer == question['answer']:
            score += 1
            client.send('Correcto!'.encode('ascii'))
        else:
            client.send('Incorrecto.'.encode('ascii'))
    client.send(f'Tu puntuación final es {score}.'.encode('ascii'))

# Luego, cuando aceptes una nueva conexión de cliente, llamarías a esta función así:
# client, address = server.accept()
# handle_client(client)
