import socket

HOST = '10.10.1.17'
PORT = 9999
# Creamos un socket del cliente
client_socket = socket.socket()
client_socket.connect((HOST, PORT))

# Función para ingresar nombre de usuario y contraseña
def ingresar_credenciales():
    nombre_usuario = input("Ingrese su nombre de usuario: ")
    contrasena = input("Ingrese su contraseña: ")
    return f"{nombre_usuario},{contrasena}"

# Proceso de inicio de sesión o registro
ingresado_con_exito = False
while not ingresado_con_exito:
    # Mostrar menú
    print("1. Iniciar sesión")
    print("2. Registrarse")
    opcion = input("Seleccione una opción: ")

    # Ingresar credenciales
    credenciales = ingresar_credenciales()

    # Enviar opción y credenciales al servidor
    client_socket.send(f"{opcion},{credenciales}".encode())

    # Recibir respuesta del servidor
    respuesta = client_socket.recv(1024).decode()

    if respuesta == "OK":
        print("Operación exitosa.")
        ingresado_con_exito = True
    else:
        print(respuesta)

# Cerrar conexión
client_socket.close()
